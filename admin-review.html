<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>审核管理 - 管理后台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="miniprogram-container">
        <!-- 导航栏 -->
        <div class="navbar" style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%);">
            <div class="flex items-center justify-between w-full">
                <h1 class="text-lg font-bold">
                    <i class="fas fa-clipboard-check mr-2"></i>
                    审核管理
                </h1>
            </div>
        </div>

        <!-- 审核筛选 -->
        <div class="bg-white mx-3 mt-3 rounded-xl shadow-sm p-3">
            <div class="grid grid-cols-3 gap-2 mb-3">
                <button class="py-2 bg-blue-600 text-white rounded-lg text-sm font-medium filter-btn active" data-status="pending">
                    待审核
                </button>
                <button class="py-2 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium filter-btn" data-status="approved">
                    已通过
                </button>
                <button class="py-2 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium filter-btn" data-status="rejected">
                    已驳回
                </button>
            </div>

            <!-- 操作区域 -->
            <div class="mb-3">
                <button class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-colors" onclick="batchApprove()">
                    <i class="fas fa-check-double mr-1"></i>
                    一键通过待审核项目
                </button>
            </div>

            <div class="flex items-center space-x-2">
                <div class="flex-1">
                    <input type="text" placeholder="搜索员工或任务..."
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <button class="bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-sm">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- 审核列表 -->
        <div class="px-3 py-2">
            <!-- 审核项目1 - 待审核 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4 fade-in" data-status="pending">
                <!-- 头部信息 -->
                <div class="flex items-start justify-between mb-3">
                    <div class="flex-1">
                        <h3 class="font-bold text-lg text-gray-800">张三</h3>
                        <p class="text-sm text-gray-600 mt-1">工号：EMP001 | 市场部</p>
                    </div>
                    <div class="text-right">
                        <span class="status-badge status-reviewing">待审核</span>
                        <div class="text-xs text-gray-500 mt-1">今日 16:20</div>
                    </div>
                </div>

                <!-- 任务信息 -->
                <div class="bg-gray-50 rounded-lg p-3 mb-3">
                    <h4 class="font-semibold text-gray-800 mb-1">节日促销活动</h4>
                    <p class="text-sm text-gray-600">转发节日促销海报到朋友圈</p>
                </div>

                <!-- 提交的截图 -->
                <div class="mb-3">
                    <h5 class="font-semibold text-gray-800 mb-2">提交截图：</h5>
                    <div class="grid grid-cols-2 gap-2">
                        <img src="https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=150&h=200&fit=crop&crop=center"
                             alt="截图1" class="w-full h-24 rounded-lg object-cover cursor-pointer" onclick="viewImage(this)">
                        <img src="https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=150&h=200&fit=crop&crop=center"
                             alt="截图2" class="w-full h-24 rounded-lg object-cover cursor-pointer" onclick="viewImage(this)">
                    </div>
                </div>

                <!-- 员工说明 -->
                <div class="bg-blue-50 rounded-lg p-3 mb-3">
                    <p class="text-sm text-blue-700">已按要求转发节日促销海报到朋友圈，截图包含完整内容和发布时间。</p>
                </div>

                <!-- 审核操作 -->
                <div class="flex space-x-2">
                    <button class="flex-1 bg-green-600 text-white py-2 px-3 rounded-lg text-sm font-medium approve-btn" data-id="1">
                        <i class="fas fa-check mr-1"></i>通过
                    </button>
                    <button class="flex-1 bg-red-500 text-white py-2 px-3 rounded-lg text-sm font-medium reject-btn" data-id="1">
                        <i class="fas fa-times mr-1"></i>驳回
                    </button>
                </div>
            </div>

            <!-- 审核项目2 - 已通过 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4 fade-in" data-status="approved">
                <!-- 头部信息 -->
                <div class="flex items-start justify-between mb-3">
                    <div class="flex-1">
                        <h3 class="font-bold text-lg text-gray-800">李四</h3>
                        <p class="text-sm text-gray-600 mt-1">工号：EMP002 | 市场部</p>
                    </div>
                    <div class="text-right">
                        <span class="status-badge status-completed">已通过</span>
                        <div class="text-xs text-gray-500 mt-1">今日 14:30</div>
                    </div>
                </div>

                <!-- 任务信息 -->
                <div class="bg-gray-50 rounded-lg p-3 mb-3">
                    <h4 class="font-semibold text-gray-800 mb-1">新品上市推广</h4>
                    <p class="text-sm text-gray-600">转发新品视频到朋友圈</p>
                </div>

                <!-- 审核结果 -->
                <div class="bg-green-50 rounded-lg p-3 mb-3">
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-600 mr-2"></i>
                        <span class="text-green-800 font-semibold">审核通过</span>
                    </div>
                    <p class="text-sm text-green-700 mt-1">转发内容符合要求，截图清晰完整</p>
                </div>

                <!-- 操作按钮 -->
                <div class="flex space-x-2">
                    <button class="flex-1 bg-gray-100 text-gray-400 py-2 px-3 rounded-lg text-sm font-medium" disabled>
                        已通过
                    </button>
                    <button class="flex-1 bg-gray-100 text-gray-600 py-2 px-3 rounded-lg text-sm font-medium">
                        <i class="fas fa-eye mr-1"></i>详情
                    </button>
                </div>
            </div>

            <!-- 审核项目3 - 已驳回 -->
            <div class="bg-white rounded-xl shadow-sm p-4 mb-4 fade-in" data-status="rejected">
                <!-- 头部信息 -->
                <div class="flex items-start justify-between mb-3">
                    <div class="flex-1">
                        <h3 class="font-bold text-lg text-gray-800">王五</h3>
                        <p class="text-sm text-gray-600 mt-1">工号：EMP003 | 销售部</p>
                    </div>
                    <div class="text-right">
                        <span class="status-badge status-rejected">已驳回</span>
                        <div class="text-xs text-gray-500 mt-1">昨天 18:30</div>
                    </div>
                </div>

                <!-- 任务信息 -->
                <div class="bg-gray-50 rounded-lg p-3 mb-3">
                    <h4 class="font-semibold text-gray-800 mb-1">周末大促销活动</h4>
                    <p class="text-sm text-gray-600">转发促销推文到朋友圈</p>
                </div>

                <!-- 审核结果 -->
                <div class="bg-red-50 rounded-lg p-3 mb-3">
                    <div class="flex items-center">
                        <i class="fas fa-times-circle text-red-600 mr-2"></i>
                        <span class="text-red-800 font-semibold">审核驳回</span>
                    </div>
                    <p class="text-sm text-red-700 mt-1">驳回原因：截图中的朋友圈内容不够清晰，无法确认转发内容</p>
                </div>

                <!-- 操作按钮 -->
                <div class="flex space-x-2">
                    <button class="flex-1 bg-gray-100 text-gray-400 py-2 px-3 rounded-lg text-sm font-medium" disabled>
                        已驳回
                    </button>
                    <button class="flex-1 bg-gray-100 text-gray-600 py-2 px-3 rounded-lg text-sm font-medium">
                        <i class="fas fa-eye mr-1"></i>详情
                    </button>
                </div>
            </div>
        </div>


        <!-- 底部间距 -->
        <div class="h-20"></div>
    </div>

    <script>
        // 审核筛选
        document.querySelectorAll('.filter-btn').forEach(button => {
            button.addEventListener('click', function() {
                const status = this.getAttribute('data-status');
                const items = document.querySelectorAll('[data-status]');

                // 检查是否点击的是当前激活的按钮
                const isCurrentlyActive = this.classList.contains('bg-blue-600');

                if (isCurrentlyActive) {
                    // 如果点击的是已激活的按钮，显示所有项目
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-100', 'text-gray-600');
                    });

                    items.forEach(item => {
                        item.style.display = 'block';
                    });
                } else {
                    // 如果点击的是未激活的按钮，进行筛选
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-100', 'text-gray-600');
                    });

                    // 激活当前按钮
                    this.classList.remove('bg-gray-100', 'text-gray-600');
                    this.classList.add('bg-blue-600', 'text-white');

                    // 筛选审核项目
                    items.forEach(item => {
                        if (item.getAttribute('data-status') === status) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                }
            });
        });

        // 一键通过
        function batchApprove() {
            if (confirm('确定要批量通过所有待审核项目吗？')) {
                alert('批量通过成功！');
            }
        }

        // 通过审核
        document.addEventListener('click', function(e) {
            if (e.target.closest('.approve-btn')) {
                const id = e.target.closest('.approve-btn').getAttribute('data-id');
                if (confirm('确定要通过这个审核项目吗？')) {
                    alert('审核通过！');
                    // 这里可以添加实际的审核通过逻辑
                }
            }
        });

        // 驳回审核
        document.addEventListener('click', function(e) {
            if (e.target.closest('.reject-btn')) {
                const id = e.target.closest('.reject-btn').getAttribute('data-id');
                const reason = prompt('请输入驳回原因：');
                if (reason) {
                    alert('审核驳回！原因：' + reason);
                    // 这里可以添加实际的审核驳回逻辑
                }
            }
        });

        // 查看图片
        function viewImage(img) {
            // 创建图片查看模态框
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="relative max-w-4xl max-h-full p-4">
                    <img src="${img.src}" alt="查看图片" class="max-w-full max-h-full rounded-lg">
                    <button onclick="this.parentElement.parentElement.remove()" 
                            class="absolute top-2 right-2 bg-white bg-opacity-20 text-white rounded-full w-8 h-8 flex items-center justify-center">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // 查看详情
        document.addEventListener('click', function(e) {
            if (e.target.closest('button') && e.target.closest('button').textContent.includes('详情')) {
                alert('跳转到审核详情页面');
            }
        });
    </script>
</body>
</html>
