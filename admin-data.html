<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据管理 - 管理后台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="miniprogram-container">
        <!-- 导航栏 -->
        <div class="navbar" style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%);">
            <div class="flex items-center justify-between w-full">
                <h1 class="text-lg font-bold">
                    <i class="fas fa-database mr-2"></i>
                    数据管理
                </h1>
            </div>
        </div>

        <!-- 时间筛选 -->
        <div class="bg-white mx-3 mt-3 rounded-xl shadow-sm p-3">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-semibold text-gray-800 text-sm">统计周期</h3>
            </div>
            <div class="flex space-x-2">
                <button class="px-3 py-1 bg-blue-600 text-white rounded-lg text-xs" onclick="setDateRange('today')">今日</button>
                <button class="px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs" onclick="setDateRange('week')">本周</button>
                <button class="px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs" onclick="setDateRange('month')">本月</button>
                <button class="px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs" onclick="setDateRange('custom')">自定义</button>
            </div>
        </div>

        <!-- 总体统计 -->
        <div class="mx-3 mt-3">
            <h3 class="font-semibold text-gray-800 mb-3 text-sm">
                <i class="fas fa-tachometer-alt mr-2 text-blue-600"></i>
                今日汇总
            </h3>
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-white rounded-xl shadow-sm p-3 text-center">
                    <div class="text-xl font-bold text-blue-600">18</div>
                    <div class="text-xs text-gray-600 mt-1">转发任务</div>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-3 text-center">
                    <div class="text-xl font-bold text-green-600">15</div>
                    <div class="text-xs text-gray-600 mt-1">已完成</div>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-3 text-center">
                    <div class="text-xl font-bold text-orange-600">83%</div>
                    <div class="text-xs text-gray-600 mt-1">完成率</div>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-3 text-center">
                    <div class="text-xl font-bold text-purple-600">12</div>
                    <div class="text-xs text-gray-600 mt-1">参与员工</div>
                </div>
            </div>
        </div>

        <!-- 每日每员转发统计 -->
        <div class="mx-3 mt-3">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-semibold text-gray-800 text-sm">
                    <i class="fas fa-users mr-2 text-green-600"></i>
                    每日每员转发统计
                </h3>
                <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-xs font-medium transition-colors" onclick="exportDailyReport()">
                    <i class="fas fa-download mr-1"></i>
                    导出日报
                </button>
            </div>
            
            <!-- 员工转发详情 -->
            <div class="space-y-3">
                <!-- 员工1 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm">张三</h4>
                            <p class="text-xs text-gray-500">EMP001 | 万达广场店</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-green-600">3/3</div>
                            <div class="text-xs text-gray-500">100%</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">周末大促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">新品上市推广</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">节日促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                    </div>
                </div>

                <!-- 员工2 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm">李四</h4>
                            <p class="text-xs text-gray-500">EMP002 | 银泰城店</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-orange-600">2/3</div>
                            <div class="text-xs text-gray-500">67%</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">周末大促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">新品上市推广</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">节日促销活动</span>
                            <span class="text-red-500">✗ 未完成</span>
                        </div>
                    </div>
                </div>

                <!-- 员工3 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm">王五</h4>
                            <p class="text-xs text-gray-500">EMP003 | 万象城店</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-red-600">1/3</div>
                            <div class="text-xs text-gray-500">33%</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">周末大促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">新品上市推广</span>
                            <span class="text-red-500">✗ 未完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">节日促销活动</span>
                            <span class="text-red-500">✗ 未完成</span>
                        </div>
                    </div>
                </div>

                <!-- 员工4 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm">赵六</h4>
                            <p class="text-xs text-gray-500">EMP004 | 大悦城店</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-bold text-green-600">3/3</div>
                            <div class="text-xs text-gray-500">100%</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">周末大促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">新品上市推广</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                        <div class="flex items-center justify-between text-xs">
                            <span class="text-gray-600">节日促销活动</span>
                            <span class="text-green-600">✓ 已完成</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 门店统计 -->
        <div class="mx-3 mt-3">
            <h3 class="font-semibold text-gray-800 mb-3 text-sm">
                <i class="fas fa-store mr-2 text-purple-600"></i>
                门店统计
            </h3>
            <div class="space-y-2">
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-blue-500 rounded-full mr-3"></div>
                            <span class="font-medium text-gray-800 text-sm">万达广场店</span>
                        </div>
                        <span class="text-xs text-gray-600">4人 | 100%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: 100%"></div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-green-500 rounded-full mr-3"></div>
                            <span class="font-medium text-gray-800 text-sm">银泰城店</span>
                        </div>
                        <span class="text-xs text-gray-600">3人 | 67%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-green-500 h-2 rounded-full" style="width: 67%"></div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-orange-500 rounded-full mr-3"></div>
                            <span class="font-medium text-gray-800 text-sm">万象城店</span>
                        </div>
                        <span class="text-xs text-gray-600">2人 | 33%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-orange-500 h-2 rounded-full" style="width: 33%"></div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-purple-500 rounded-full mr-3"></div>
                            <span class="font-medium text-gray-800 text-sm">大悦城店</span>
                        </div>
                        <span class="text-xs text-gray-600">3人 | 100%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-purple-500 h-2 rounded-full" style="width: 100%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 历史报表 -->
        <div class="mx-3 mt-3">
            <h3 class="font-semibold text-gray-800 mb-3 text-sm">
                <i class="fas fa-history mr-2 text-gray-600"></i>
                历史报表
            </h3>
            
            <div class="space-y-2">
                <!-- 报表记录1 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-file-excel text-green-600 text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 text-sm">2024-12-20 日报表</h4>
                                <p class="text-xs text-gray-500">Excel格式 | 15人参与</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <button class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs" onclick="downloadReport('2024-12-20')">
                                <i class="fas fa-download mr-1"></i>
                                下载
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 报表记录2 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-file-excel text-green-600 text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 text-sm">2024-12-19 日报表</h4>
                                <p class="text-xs text-gray-500">Excel格式 | 12人参与</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <button class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs" onclick="downloadReport('2024-12-19')">
                                <i class="fas fa-download mr-1"></i>
                                下载
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 报表记录3 -->
                <div class="bg-white rounded-xl shadow-sm p-3">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-file-excel text-green-600 text-sm"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 text-sm">2024-12-18 日报表</h4>
                                <p class="text-xs text-gray-500">Excel格式 | 10人参与</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-1">
                            <button class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs" onclick="downloadReport('2024-12-18')">
                                <i class="fas fa-download mr-1"></i>
                                下载
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部间距 -->
        <div class="h-20"></div>
    </div>

    <script>
        // 设置日期范围
        function setDateRange(range) {
            // 移除所有按钮的激活状态
            document.querySelectorAll('.flex.space-x-2 button').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            });
            
            // 激活当前按钮
            event.target.classList.remove('bg-gray-100', 'text-gray-600');
            event.target.classList.add('bg-blue-600', 'text-white');
            
            // 如果是自定义，弹出日期选择
            if (range === 'custom') {
                const date = prompt('请输入日期 (YYYY-MM-DD):', '2024-12-20');
                if (date) {
                    console.log('选择日期:', date);
                    // 这里可以添加根据日期筛选数据的逻辑
                }
            } else {
                // 这里可以添加数据筛选逻辑
                console.log('切换到时间范围:', range);
            }
        }

        // 导出日报
        function exportDailyReport() {
            // 显示加载状态
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loading mr-2"></div>导出中...';
            btn.disabled = true;
            
            // 模拟导出过程
            setTimeout(() => {
                alert('日报表导出成功！');
                
                // 恢复按钮状态
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 2000);
        }

        // 下载报表
        function downloadReport(date) {
            alert(`正在下载 ${date} 的报表...`);
        }
    </script>
</body>
</html>
