<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>消息通知 - 朋友圈转发管理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="miniprogram-container">

        <!-- 消息分类 -->
        <div class="px-4 py-2">
            <div class="flex space-x-2">
                <button class="px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium">
                    全部
                </button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-sm font-medium">
                    任务通知
                </button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-sm font-medium">
                    审核结果
                </button>
            </div>
        </div>

        <!-- 消息列表 -->
        <div class="px-4 py-2">
            <!-- 未读消息 - 任务发布 -->
            <div class="notification-item notification-unread fade-in">
                <div class="flex items-start space-x-3">
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-tasks text-blue-600"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-1">
                            <h4 class="font-semibold text-gray-800">新任务发布</h4>
                            <span class="text-xs text-gray-500">2分钟前</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">您有一个新的转发任务：周末大促销活动</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-500">截止时间：今日 18:00</span>
                            <button class="text-blue-600 text-xs font-medium task-detail-btn" data-task="weekend-promotion">查看详情</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 未读消息 - 审核通过 -->
            <div class="notification-item notification-unread fade-in">
                <div class="flex items-start space-x-3">
                    <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-check-circle text-green-600"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-1">
                            <h4 class="font-semibold text-gray-800">审核通过</h4>
                            <span class="text-xs text-gray-500">1小时前</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">您的转发凭证已通过审核：新品上市推广</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-green-600">✓ 任务完成</span>
                            <button class="text-blue-600 text-xs font-medium">查看详情</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 未读消息 - 任务提醒 -->
            <div class="notification-item notification-unread fade-in">
                <div class="flex items-start space-x-3">
                    <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-exclamation-triangle text-orange-600"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-1">
                            <h4 class="font-semibold text-gray-800">任务截止提醒</h4>
                            <span class="text-xs text-gray-500">3小时前</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">节日促销活动任务还有2小时截止，请及时完成转发</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-orange-600">⚠ 即将截止</span>
                            <button class="text-blue-600 text-xs font-medium">立即完成</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 已读消息 - 审核驳回 -->
            <div class="notification-item fade-in">
                <div class="flex items-start space-x-3">
                    <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-times-circle text-red-600"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-1">
                            <h4 class="font-semibold text-gray-800">审核驳回</h4>
                            <span class="text-xs text-gray-500">昨天</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">您的转发凭证被驳回：截图不清晰，请重新提交</p>
                        <div class="bg-red-50 rounded p-2 mb-2">
                            <p class="text-xs text-red-700">
                                <strong>驳回原因：</strong>截图中的朋友圈内容不够清晰，无法确认转发内容
                            </p>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-red-600">✗ 需要重新提交</span>
                            <button class="text-blue-600 text-xs font-medium resubmit-btn">重新提交</button>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <!-- 加载更多 -->
        <div class="text-center py-4">
            <button class="text-gray-500 text-sm">
                <i class="fas fa-chevron-down mr-1"></i>
                加载更多消息
            </button>
        </div>

        <!-- 底部间距 -->
        <div class="h-20"></div>
    </div>

    <script>
        // 标记消息为已读
        document.addEventListener('click', function(e) {
            if (e.target.closest('.notification-item')) {
                const notification = e.target.closest('.notification-item');
                if (notification.classList.contains('notification-unread')) {
                    notification.classList.remove('notification-unread');
                }
            }
        });

        // 跳转到任务详情
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('task-detail-btn')) {
                const taskId = e.target.getAttribute('data-task');
                // 跳转到首页并定位到对应任务
                window.location.href = `home.html?task=${taskId}`;
            }
        });

        // 跳转到提交页面
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('resubmit-btn')) {
                // 跳转到提交页面
                window.location.href = 'submit.html';
            }
        });

        // 消息分类切换
        document.querySelectorAll('.px-4 button').forEach(button => {
            button.addEventListener('click', function() {
                // 移除所有按钮的激活状态
                document.querySelectorAll('.px-4 button').forEach(btn => {
                    btn.classList.remove('bg-blue-600', 'text-white');
                    btn.classList.add('bg-gray-100', 'text-gray-600');
                });
                
                // 激活当前按钮
                this.classList.remove('bg-gray-100', 'text-gray-600');
                this.classList.add('bg-blue-600', 'text-white');
                
                // 这里可以添加筛选逻辑
                console.log('切换到分类:', this.textContent);
            });
        });
    </script>
</body>
</html>
